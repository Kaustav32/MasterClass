<!DOCTYPE html>
<html lang="en" translate="no" class="notranslate">

<head>
    <meta charset="UTF-8">
    <meta name="google" content="notranslate">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Matri Rasoi | Premium Home Tiffin</title>

    <meta property="og:title" content="Matri Rasoi | Ghar ka Khana in Rohini ‚ù§Ô∏è">
    <meta property="og:description" content="Pure Veg ‚Ä¢ Desi Ghee ‚Ä¢ No Soda. Miss Mom's cooking? We deliver the love.">
    <meta property="og:image" content="https://matrirasoi-tiffins.vercel.app/logo.png">
    <meta property="og:url" content="https://matrirasoi-tiffins.vercel.app/">
    <meta property="og:type" content="website">

    <link rel="icon" type="image/png" href="logo.png">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&family=Caveat:wght@600&display=swap"
        rel="stylesheet">

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" defer></script>

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Plus Jakarta Sans', 'sans-serif'],
                        signature: ['Caveat', 'cursive']
                    },
                    colors: {
                        brand: { 50: '#fff7ed', 100: '#ffedd5', 500: '#f97316', 600: '#ea580c', 900: '#7c2d12' },
                        whatsapp: { 500: '#25D366', 600: '#128C7E' },
                        nature: { 500: '#2E7D32', 600: '#1B5E20' }
                    },
                    screens: { 'xs': '375px' }
                }
            }
        }
    </script>

    <style>
        html {
            scroll-behavior: smooth;
        }

        body {
            background: linear-gradient(180deg, #FFFBF2 0%, #fff7ed 100%);
            color: #1f2937;
            -webkit-font-smoothing: antialiased;
        }

        .glass {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border-bottom: 1px solid rgba(234, 88, 12, 0.1);
        }

        .fade-in-up {
            animation: fadeInUp 0.6s ease-out forwards;
            opacity: 0;
            transform: translateY(20px);
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        #map {
            height: 250px;
            width: 100%;
            z-index: 1;
            border-radius: 1rem;
        }

        @media (min-width: 768px) {
            #map {
                height: 300px;
            }
        }

        .fix-safari-radius {
            -webkit-mask-image: -webkit-radial-gradient(white, black);
            mask-image: radial-gradient(white, black);
        }

        .todays-special-badge {
            background: linear-gradient(135deg, #FF9933 0%, #ea580c 100%);
            color: white;
            box-shadow: 0 4px 15px rgba(234, 88, 12, 0.3);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% {
                transform: scale(1);
            }

            50% {
                transform: scale(1.05);
            }

            100% {
                transform: scale(1);
            }
        }

        .rice-checkbox:checked+div {
            border-color: #ea580c;
            background-color: #fff7ed;
            box-shadow: 0 0 0 2px #fff, 0 0 0 4px #ea580c;
        }

        input[type="radio"]:checked+span {
            background-color: #ea580c;
            color: white;
            border-color: #ea580c;
        }

        @keyframes ping-slow {

            75%,
            100% {
                transform: scale(1.5);
                opacity: 0;
            }
        }

        .animate-ping-slow {
            animation: ping-slow 2s cubic-bezier(0, 0, 0.2, 1) infinite;
        }
    </style>
</head>

<body class="antialiased selection:bg-orange-200 selection:text-orange-900">

    <nav class="glass fixed w-full top-0 z-50 transition-all duration-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20 md:h-24">
                <div class="flex items-center gap-3 md:gap-4">
                    <img src="logo.png" alt="Matri Rasoi Logo"
                        class="w-12 h-12 md:w-20 md:h-20 rounded-full border-2 border-orange-200 shadow-sm bg-white">
                    <div class="flex flex-col justify-center">
                        <h1
                            class="text-xl md:text-2xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-orange-600 to-red-600 tracking-tight leading-none">
                            Matri Rasoi</h1>
                        <span
                            class="text-[10px] md:text-xs text-orange-800 font-bold tracking-widest uppercase mt-0.5 opacity-90">Sattvic
                            ‚Ä¢ Wholesome</span>
                    </div>
                </div>
                <a href="https://wa.me/919205173588?text=Hi%20Matri%20Rasoi,%20I%20have%20feedback!" target="_blank"
                    class="hidden md:flex items-center gap-2 bg-emerald-50 text-emerald-700 px-5 py-2.5 rounded-full text-sm font-bold border border-emerald-200 hover:bg-nature-500 hover:text-white transition-all duration-300">
                    <span>Feedback</span>
                    <svg class="w-4 h-4 fill-current" viewBox="0 0 24 24">
                        <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z" />
                    </svg>
                </a>
            </div>
        </div>
    </nav>

    <section class="pt-32 md:pt-40 pb-10 md:pb-16 px-4 text-center max-w-5xl mx-auto fade-in-up">
        <span
            class="inline-flex items-center gap-2 py-1.5 px-4 rounded-full bg-white/80 border border-orange-200 text-orange-800 text-[10px] md:text-xs font-bold tracking-wide mb-6 shadow-sm">
            <span class="w-2 h-2 rounded-full bg-nature-500 animate-pulse"></span>
            Serving Rohini & DTU ‚ù§Ô∏è
        </span>
        <h1 class="text-4xl md:text-7xl font-extrabold text-gray-900 mb-4 md:mb-6 leading-tight tracking-tight">
            Miss Home? <br>
            <span class="text-transparent bg-clip-text bg-gradient-to-r from-orange-500 via-red-500 to-pink-600">Eat
                Mom's Food.</span>
        </h1>
        <p class="text-base md:text-lg text-gray-600 mb-8 md:mb-10 max-w-2xl mx-auto leading-relaxed font-medium px-2">
            Pure vegetarian, hand-pounded spices, and Desi Ghee. <br> Lunch & Dinner delivery available.
        </p>
        <div class="flex flex-col md:flex-row justify-center gap-3 md:gap-4 px-8 md:px-4">
            <a href="#order"
                class="bg-gradient-to-r from-orange-600 to-red-600 text-white px-8 py-3.5 md:py-4 rounded-2xl font-bold shadow-xl shadow-orange-200 hover:scale-105 transition-all duration-300 text-sm md:text-base">Book
                Tiffin üçõ</a>
            <a href="#menu"
                class="glass text-gray-700 border border-orange-100 px-8 py-3.5 md:py-4 rounded-2xl font-bold hover:text-orange-600 transition-all text-sm md:text-base">View
                Menu</a>
        </div>
    </section>

    <section id="menu" class="scroll-mt-[100px] py-10 md:py-16 px-4">
        <div class="max-w-7xl mx-auto">
            <div class="text-center mb-8 md:mb-16">
                <h2 class="text-3xl md:text-4xl font-extrabold text-gray-900">Weekly Menu</h2>
                <p class="text-gray-500 mt-2 text-sm md:text-lg italic font-signature text-orange-600 text-xl">Lunch:
                    Special ‚Ä¢ Dinner: Light & Healthy</p>
            </div>

            <div class="grid grid-cols-2 md:grid-cols-2 lg:grid-cols-3 gap-3 md:gap-8">
                <div class="menu-card glass fix-safari-radius group relative rounded-2xl md:rounded-3xl shadow-md hover:shadow-xl transition-all duration-300 border border-orange-50 overflow-hidden cursor-pointer h-full flex flex-col hover:-translate-y-1"
                    data-day="1">
                    <div class="h-32 md:h-56 overflow-hidden relative"><img src="monday.jpg"
                            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                            loading="lazy">
                        <div
                            class="day-badge absolute top-2 left-2 md:top-4 md:left-4 bg-gray-900/80 backdrop-blur-md text-white text-[9px] md:text-xs font-bold px-2 py-1 md:px-3 md:py-1.5 rounded-lg tracking-wide uppercase">
                            Mon</div>
                    </div>
                    <div class="p-3 md:p-6 flex flex-col flex-grow">
                        <h3 class="text-sm md:text-xl font-bold text-gray-900 mb-2">Royal Rajma</h3>
                        <div class="text-[10px] md:text-sm text-gray-500 mb-4 flex-grow space-y-1">
                            <p>‚òÄÔ∏è <span class="font-bold text-gray-700">Lunch:</span> Rajma Masala + Jeera Aloo</p>
                            <p>üåô <span class="font-bold text-gray-700">Dinner:</span> Aloo Gobi + Yellow Dal</p>
                        </div><button onclick="selectDish('mon')"
                            class="w-full py-2 md:py-3 rounded-lg md:rounded-xl bg-orange-50 text-xs md:text-base text-orange-900 font-bold">Book</button>
                    </div>
                </div>

                <div class="menu-card glass fix-safari-radius group relative rounded-2xl md:rounded-3xl shadow-md hover:shadow-xl transition-all duration-300 border border-orange-50 overflow-hidden cursor-pointer h-full flex flex-col hover:-translate-y-1"
                    data-day="2">
                    <div class="h-32 md:h-56 overflow-hidden relative"><img src="tuesday.jpg"
                            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                            loading="lazy">
                        <div
                            class="day-badge absolute top-2 left-2 md:top-4 md:left-4 bg-gray-900/80 backdrop-blur-md text-white text-[9px] md:text-xs font-bold px-2 py-1 md:px-3 md:py-1.5 rounded-lg tracking-wide uppercase">
                            Tue</div>
                    </div>
                    <div class="p-3 md:p-6 flex flex-col flex-grow">
                        <h3 class="text-sm md:text-xl font-bold text-gray-900 mb-2">Amritsari Chhole</h3>
                        <div class="text-[10px] md:text-sm text-gray-500 mb-4 flex-grow space-y-1">
                            <p>‚òÄÔ∏è <span class="font-bold text-gray-700">Lunch:</span> Amritsari Chhole + Matar Mushroom
                            </p>
                            <p>üåô <span class="font-bold text-gray-700">Dinner:</span> Bhindi Masala + Dal Makhani</p>
                        </div><button onclick="selectDish('tue')"
                            class="w-full py-2 md:py-3 rounded-lg md:rounded-xl bg-orange-50 text-xs md:text-base text-orange-900 font-bold">Book</button>
                    </div>
                </div>

                <div class="menu-card glass fix-safari-radius group relative rounded-2xl md:rounded-3xl shadow-md hover:shadow-xl transition-all duration-300 border border-orange-50 overflow-hidden cursor-pointer h-full flex flex-col hover:-translate-y-1"
                    data-day="3">
                    <div class="h-32 md:h-56 overflow-hidden relative"><img src="wednesday.jpg"
                            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                            loading="lazy">
                        <div
                            class="day-badge absolute top-2 left-2 md:top-4 md:left-4 bg-gray-900/80 backdrop-blur-md text-white text-[9px] md:text-xs font-bold px-2 py-1 md:px-3 md:py-1.5 rounded-lg tracking-wide uppercase">
                            Wed</div>
                    </div>
                    <div class="p-3 md:p-6 flex flex-col flex-grow">
                        <h3 class="text-sm md:text-xl font-bold text-gray-900 mb-2">Mix Veg Spcl</h3>
                        <div class="text-[10px] md:text-sm text-gray-500 mb-4 flex-grow space-y-1">
                            <p>‚òÄÔ∏è <span class="font-bold text-gray-700">Lunch:</span> Mix Veg + Dal Tadka</p>
                            <p>üåô <span class="font-bold text-gray-700">Dinner:</span> Kale Chane + Arbi Masala</p>
                        </div><button onclick="selectDish('wed')"
                            class="w-full py-2 md:py-3 rounded-lg md:rounded-xl bg-orange-50 text-xs md:text-base text-orange-900 font-bold">Book</button>
                    </div>
                </div>

                <div class="menu-card glass fix-safari-radius group relative rounded-2xl md:rounded-3xl shadow-md hover:shadow-xl transition-all duration-300 border border-orange-50 overflow-hidden cursor-pointer h-full flex flex-col hover:-translate-y-1"
                    data-day="4">
                    <div class="h-32 md:h-56 overflow-hidden relative"><img src="thursday.jpg"
                            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                            loading="lazy">
                        <div
                            class="day-badge absolute top-2 left-2 md:top-4 md:left-4 bg-gray-900/80 backdrop-blur-md text-white text-[9px] md:text-xs font-bold px-2 py-1 md:px-3 md:py-1.5 rounded-lg tracking-wide uppercase">
                            Thu</div>
                    </div>
                    <div class="p-3 md:p-6 flex flex-col flex-grow">
                        <h3 class="text-sm md:text-xl font-bold text-gray-900 mb-2">Kadhi Pakora</h3>
                        <div class="text-[10px] md:text-sm text-gray-500 mb-4 flex-grow space-y-1">
                            <p>‚òÄÔ∏è <span class="font-bold text-gray-700">Lunch:</span> Kadhi Pakora + Aloo Methi</p>
                            <p>üåô <span class="font-bold text-gray-700">Dinner:</span> Aloo Matar + Jeera Aloo</p>
                        </div><button onclick="selectDish('thu')"
                            class="w-full py-2 md:py-3 rounded-lg md:rounded-xl bg-orange-50 text-xs md:text-base text-orange-900 font-bold">Book</button>
                    </div>
                </div>

                <div class="menu-card glass fix-safari-radius group relative rounded-2xl md:rounded-3xl shadow-md hover:shadow-xl transition-all duration-300 border border-orange-50 overflow-hidden cursor-pointer h-full flex flex-col hover:-translate-y-1"
                    data-day="5">
                    <div class="h-32 md:h-56 overflow-hidden relative"><img src="friday.jpg"
                            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                            loading="lazy">
                        <div
                            class="day-badge absolute top-2 left-2 md:top-4 md:left-4 bg-gray-900/80 backdrop-blur-md text-white text-[9px] md:text-xs font-bold px-2 py-1 md:px-3 md:py-1.5 rounded-lg tracking-wide uppercase">
                            Fri</div>
                    </div>
                    <div class="p-3 md:p-6 flex flex-col flex-grow">
                        <h3 class="text-sm md:text-xl font-bold text-gray-900 mb-2">Matar Paneer</h3>
                        <div class="text-[10px] md:text-sm text-gray-500 mb-4 flex-grow space-y-1">
                            <p>‚òÄÔ∏è <span class="font-bold text-gray-700">Lunch:</span> Matar Paneer + Ghiya Kofta</p>
                            <p>üåô <span class="font-bold text-gray-700">Dinner:</span> Dal Makhani + Bhandara Aloo</p>
                        </div><button onclick="selectDish('fri')"
                            class="w-full py-2 md:py-3 rounded-lg md:rounded-xl bg-orange-50 text-xs md:text-base text-orange-900 font-bold">Book</button>
                    </div>
                </div>

                <div class="menu-card glass fix-safari-radius group relative rounded-2xl md:rounded-3xl shadow-md hover:shadow-xl transition-all duration-300 border border-orange-50 overflow-hidden cursor-pointer h-full flex flex-col hover:-translate-y-1"
                    data-day="6">
                    <div class="h-32 md:h-56 overflow-hidden relative"><img src="saturday.jpg"
                            class="w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"
                            loading="lazy">
                        <div
                            class="day-badge absolute top-2 left-2 md:top-4 md:left-4 bg-gray-900/80 backdrop-blur-md text-white text-[9px] md:text-xs font-bold px-2 py-1 md:px-3 md:py-1.5 rounded-lg tracking-wide uppercase">
                            Sat</div>
                    </div>
                    <div class="p-3 md:p-6 flex flex-col flex-grow">
                        <h3 class="text-sm md:text-xl font-bold text-gray-900 mb-2">Mix Veg</h3>
                        <div class="text-[10px] md:text-sm text-gray-500 mb-4 flex-grow space-y-1">
                            <p>‚òÄÔ∏è <span class="font-bold text-gray-700">Lunch:</span> Mix Veg + Dal Tadka</p>
                            <p>üåô <span class="font-bold text-gray-700">Dinner:</span> Jeera Aloo + Mix Dal</p>
                        </div><button onclick="selectDish('sat')"
                            class="w-full py-2 md:py-3 rounded-lg md:rounded-xl bg-orange-50 text-xs md:text-base text-orange-900 font-bold">Book</button>
                    </div>
                </div>
            </div>

            <div
                class="mt-8 md:mt-12 bg-gray-900 rounded-3xl p-6 md:p-12 text-center text-white relative overflow-hidden shadow-2xl">
                <div class="absolute inset-0 bg-gradient-to-br from-gray-900 to-gray-800"></div>
                <div class="absolute -top-24 -right-24 w-64 h-64 bg-orange-500 rounded-full blur-[80px] opacity-20">
                </div>
                <div class="relative z-10 flex flex-col md:flex-row items-center justify-around gap-8">
                    <div class="flex-1">
                        <h3 class="text-xl font-bold mb-2">Weekly Pass</h3>
                        <div class="text-3xl md:text-4xl font-extrabold text-orange-400">‚Çπ499 <span
                                class="text-xs text-gray-400">/ 6 Tiffins</span></div>
                    </div>
                    <div class="w-full h-px md:w-px md:h-24 bg-white/10"></div>
                    <div class="flex-1"><span
                            class="inline-block py-1 px-3 mb-2 rounded-full bg-orange-500/20 text-orange-300 text-[10px] font-bold tracking-widest uppercase border border-orange-500/30">Best
                            Value</span>
                        <h3 class="text-xl font-bold mb-2">Monthly Pass</h3>
                        <div class="text-3xl md:text-4xl font-extrabold text-nature-500">‚Çπ1999 <span
                                class="text-xs text-gray-400">/ 26 Tiffins</span></div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <section id="order" class="scroll-mt-[100px] py-12 md:py-16 px-4">
        <div class="max-w-xl mx-auto glass rounded-[2rem] shadow-2xl overflow-hidden">
            <div id="kitchen-status"
                class="bg-gradient-to-r from-orange-600 to-red-600 text-white text-xs md:text-sm font-bold text-center py-3 tracking-wide shadow-md z-10 relative uppercase">
                LOADING KITCHEN STATUS...</div>
            <div class="p-6 md:p-10">
                <h2 class="text-2xl md:text-3xl font-extrabold text-center text-gray-900 mb-8">Build Your Meal</h2>
                <form id="orderForm" onsubmit="sendToWhatsapp(event)" class="space-y-5">
                    <div class="flex justify-center mb-6">
                        <div class="inline-flex bg-orange-50 p-1 rounded-xl border border-orange-100">
                            <label class="cursor-pointer"><input type="radio" name="mealTime" value="Lunch"
                                    class="peer hidden" checked onchange="updatePrice()"><span
                                    class="block px-4 py-2 rounded-lg text-sm font-bold text-gray-500 peer-checked:bg-white peer-checked:text-orange-600 peer-checked:shadow-sm transition-all">Lunch</span></label>
                            <label class="cursor-pointer"><input type="radio" name="mealTime" value="Dinner"
                                    class="peer hidden" onchange="updatePrice()"><span
                                    class="block px-4 py-2 rounded-lg text-sm font-bold text-gray-500 peer-checked:bg-white peer-checked:text-orange-600 peer-checked:shadow-sm transition-all">Dinner</span></label>
                            <label class="cursor-pointer"><input type="radio" name="mealTime" value="Both"
                                    class="peer hidden" onchange="updatePrice()"><span
                                    class="block px-4 py-2 rounded-lg text-sm font-bold text-gray-500 peer-checked:bg-white peer-checked:text-orange-600 peer-checked:shadow-sm transition-all">Both
                                    (x2)</span></label>
                        </div>
                    </div>
                    <div>
                        <label
                            class="block text-[10px] md:text-xs font-bold text-gray-500 uppercase tracking-wider mb-2">Name</label>
                        <input type="text" id="name" required
                            class="w-full px-5 py-3.5 rounded-xl bg-white/50 border border-orange-100 focus:bg-white focus:border-orange-500 outline-none text-sm"
                            placeholder="Your Name">
                    </div>

                    <div class="relative">
                        <label
                            class="block text-[10px] md:text-xs font-bold text-gray-500 uppercase tracking-wider mb-2">Delivery
                            Location</label>
                        <div class="relative mb-4">
                            <input type="text" id="location" required
                                class="w-full pl-5 pr-12 py-3.5 rounded-xl bg-white/50 border border-orange-100 focus:bg-white focus:border-orange-500 outline-none text-sm transition-all shadow-sm"
                                placeholder="Search area or detect..." autocomplete="off">
                            <button type="button" onclick="detectUserLocation()"
                                class="absolute right-2 top-1/2 -translate-y-1/2 p-2 bg-orange-100 hover:bg-orange-200 rounded-lg text-orange-600 transition-colors group"
                                title="Detect Current Location">
                                <span
                                    class="absolute -top-1 -right-1 w-2.5 h-2.5 bg-red-500 rounded-full animate-ping-slow hidden"
                                    id="gps-pulse"></span>
                                <svg class="w-5 h-5 fill-current" viewBox="0 0 24 24">
                                    <path
                                        d="M12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm8.94 3c-.46-4.17-3.77-7.48-7.94-7.94V1h-2v2.06C6.83 3.52 3.52 6.83 3.06 11H1v2h2.06c.46 4.17 3.77 7.48 7.94 7.94V23h2v-2.06c4.17-.46 7.48-3.77 7.94-7.94H23v-2h-2.06zM12 19c-3.87 0-7-3.13-7-7s3.13-7 7-7 7 3.13 7 7-3.13 7-7 7z" />
                                </svg>
                            </button>
                        </div>
                        <div
                            class="rounded-2xl overflow-hidden border border-orange-100 relative group h-56 md:h-64 shadow-inner mb-4">
                            <div id="map" class="z-0"></div>
                            <div
                                class="absolute bottom-2 left-1/2 -translate-x-1/2 bg-white/90 backdrop-blur px-3 py-1.5 rounded-full text-[10px] font-bold shadow-sm z-[400] pointer-events-none text-gray-600 whitespace-nowrap border border-gray-200">
                                üìç Move pin to exact location
                            </div>
                        </div>
                    </div>

                    <div class="bg-orange-50/50 p-5 rounded-2xl border border-orange-100">
                        <label
                            class="block text-[10px] md:text-xs font-bold text-gray-500 uppercase tracking-wider mb-3">Select
                            Plan</label>
                        <select id="mealType" onchange="updatePrice()"
                            class="w-full px-4 py-3 rounded-xl bg-white border border-gray-200 text-gray-900 font-bold focus:border-orange-500 outline-none mb-4 appearance-none text-sm"></select>
                        <div id="halwaSelector" class="hidden mb-4"><select id="halwaType"
                                class="w-full px-4 py-3 rounded-xl bg-white border border-red-200 text-red-900 font-bold text-sm">
                                <option value="Gajar Halwa">Gajar Halwa</option>
                                <option value="Moong Dal Halwa">Moong Dal Halwa</option>
                                <option value="Sooji Halwa">Sooji Halwa</option>
                            </select></div>
                        <div
                            class="flex items-center justify-between bg-white p-3 rounded-xl border border-gray-200 mb-3">
                            <span class="font-bold text-gray-900 text-sm">Extra Roti (‚Çπ6)</span>
                            <div class="flex items-center gap-3"><button type="button" onclick="updateRoti(-1)"
                                    class="w-8 h-8 font-bold text-gray-500">-</button><span id="rotiCount"
                                    class="font-bold text-sm w-4 text-center">0</span><button type="button"
                                    onclick="updateRoti(1)" class="w-8 h-8 font-bold text-orange-600">+</button></div>
                        </div>
                        <label class="cursor-pointer block"><input type="checkbox" id="addRice" onchange="updatePrice()"
                                class="rice-checkbox sr-only">
                            <div
                                class="border border-gray-200 bg-white rounded-xl p-3 flex items-center justify-between">
                                <span class="font-bold text-gray-900 text-sm">Add Jeera Rice</span>
                                <p class="font-bold text-orange-600 text-sm" id="ricePrice">+‚Çπ20</p>
                            </div>
                        </label>
                    </div>
                    <div class="pt-2">
                        <div class="flex justify-between items-center mb-6"><span
                                class="text-gray-500 font-medium">Total</span><span
                                class="text-4xl font-extrabold text-gray-900" id="displayPrice">‚Çπ90</span></div>
                        <button type="submit"
                            class="w-full bg-nature-600 hover:bg-nature-500 text-white font-bold py-4 rounded-xl shadow-lg shadow-green-200 flex justify-center items-center gap-3 text-sm transition-all transform hover:scale-[1.02]">Confirm
                            on WhatsApp</button>
                    </div>
                </form>
            </div>
        </div>
    </section>

    <footer class="bg-gray-900 text-white pt-16 pb-32 md:pb-12 text-center border-t border-gray-800">
        <div class="max-w-7xl mx-auto px-4">
            <h2
                class="text-xl md:text-2xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-red-400 mb-2 tracking-tight">
                Matri Rasoi</h2>
            <p class="text-gray-400 text-xs md:text-sm italic mb-10 max-w-xs mx-auto leading-relaxed">"Nourishing Souls,
                One Tiffin at a Time.<br>The Taste of Mother's Love."</p>
            <div class="grid grid-cols-3 max-w-sm mx-auto gap-4 mb-12 opacity-80">
                <div class="flex flex-col items-center">
                    <div
                        class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center mb-2 text-xl border border-white/10">
                        üåø</div><span class="text-[8px] uppercase tracking-widest font-black text-gray-400">Pure
                        Veg</span>
                </div>
                <div class="flex flex-col items-center">
                    <div
                        class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center mb-2 text-xl border border-white/10">
                        üçØ</div><span class="text-[8px] uppercase tracking-widest font-black text-gray-400">Desi
                        Ghee</span>
                </div>
                <div class="flex flex-col items-center">
                    <div
                        class="w-10 h-10 rounded-full bg-white/5 flex items-center justify-center mb-2 text-xl border border-white/10">
                        üö´</div><span class="text-[8px] uppercase tracking-widest font-black text-gray-400">No
                        Soda</span>
                </div>
            </div>
            <div class="relative inline-block px-10 py-6 border border-orange-500/20 rounded-2xl bg-white/[0.02]">
                <div class="text-[10px] text-orange-500 uppercase tracking-[0.2em] font-bold mb-1">Our Purity Promise
                </div>
                <div class="font-signature text-2xl text-gray-300 opacity-90">Matri Rasoi Kitchen</div>
                <div class="absolute -top-3 -left-3 text-2xl">‚ú®</div>
                <div class="absolute -bottom-3 -right-3 text-2xl">‚ú®</div>
            </div>
            <div
                class="mt-12 text-[10px] text-gray-600 tracking-[0.3em] uppercase font-bold border-t border-white/5 pt-8">
                Handcrafted with Love ‚Ä¢ Rohini, Delhi</div>
        </div>
    </footer>

    <div class="fixed bottom-4 left-4 right-4 z-50 md:hidden fade-in-up">
        <a href="#order"
            class="flex items-center justify-between bg-gray-900/95 backdrop-blur-md text-white px-5 py-3.5 rounded-2xl shadow-2xl border border-white/10">
            <div class="flex flex-col"><span class="text-[10px] text-gray-400 uppercase font-bold">Order Now</span><span
                    class="font-bold text-orange-400 text-sm tracking-tight">Customize Your Tiffin</span></div>
            <div class="bg-nature-500 p-2 rounded-full"><svg class="w-5 h-5 fill-white" viewBox="0 0 24 24">
                    <path d="M5 12h14M12 5l7 7-7 7" />
                </svg></div>
        </a>
    </div>

    <script>
        window.onload = function () { window.scrollTo(0, 0); }
        const E = { new: "%F0%9F%86%95", user: "%F0%9F%91%A4", loc: "%F0%9F%93%8D", bento: "%F0%9F%8D%B1", sun: "%E2%98%80%EF%B8%8F", moon: "%F0%9F%8C%99", bowl: "%F0%9F%A5%A3", rice: "%F0%9F%8D%9A", roti: "%F0%9F%A5%96", money: "%F0%9F%92%B0", pray: "%F0%9F%99%8F", map: "%F0%9F%97%BA%EF%B8%8F" };
        const weeklyMenu = { 1: { name: "Royal Rajma", price: 90 }, 2: { name: "Amritsari Chhole", price: 90 }, 3: { name: "Mix Veg Special", price: 90 }, 4: { name: "Kadhi Pakora", price: 90 }, 5: { name: "Matar Paneer", price: 90 }, 6: { name: "Mix Veg", price: 90 }, 0: { name: "Kitchen Closed", price: 0 } };

        // --- SMART MAP VARIABLES ---
        let map, marker;
        let userLat = 28.7300, userLng = 77.1200; // Default: Sector 16ish
        let currentZoom = 15;

        // --- MAP FUNCTIONS ---
        function initMap() {
            if (!document.getElementById('map')) return;
            map = L.map('map').setView([userLat, userLng], currentZoom);
            L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom: 19 }).addTo(map);

            // Draggable Marker
            marker = L.marker([userLat, userLng], { draggable: true }).addTo(map);

            // Drag Event: Update text box & variables
            marker.on('dragend', function (e) {
                const { lat, lng } = marker.getLatLng();
                userLat = lat; userLng = lng;
                fetchAddress(lat, lng);
            });

            // Map Click Event: Move marker
            map.on('click', function (e) {
                const { lat, lng } = e.latlng;
                marker.setLatLng([lat, lng]);
                userLat = lat; userLng = lng;
                fetchAddress(lat, lng);
            });
        }

        function detectUserLocation() {
            const btn = document.getElementById('gps-pulse');
            const input = document.getElementById('location');

            if (!("geolocation" in navigator)) {
                alert("GPS is not supported by your browser.");
                return;
            }

            btn.classList.remove('hidden'); // Show pulse animation
            input.placeholder = "üìç Detecting GPS...";
            input.value = "üìç Detecting GPS...";

            navigator.geolocation.getCurrentPosition(
                (position) => {
                    const { latitude, longitude } = position.coords;
                    userLat = latitude; userLng = longitude;

                    // Update Map & Marker
                    map.flyTo([userLat, userLng], 18); // Close zoom
                    marker.setLatLng([userLat, userLng]);

                    // Get Text Address
                    fetchAddress(userLat, userLng);

                    btn.classList.add('hidden'); // Stop pulse
                },
                (error) => {
                    btn.classList.add('hidden');
                    input.value = "";
                    input.placeholder = "Search area...";

                    switch (error.code) {
                        case error.PERMISSION_DENIED:
                            alert("Location access denied. Please enable Location in your browser settings.");
                            break;
                        case error.POSITION_UNAVAILABLE:
                            alert("Location information is unavailable.");
                            break;
                        case error.TIMEOUT:
                            alert("The request to get user location timed out.");
                            break;
                        default:
                            alert("An unknown error occurred.");
                            break;
                    }
                },
                {
                    enableHighAccuracy: true,
                    timeout: 10000,
                    maximumAge: 0
                }
            );
        }

        async function fetchAddress(lat, lng) {
            const input = document.getElementById('location');
            input.value = "Fetching address...";
            try {
                // Using OpenStreetMap Reverse Geocoding
                const response = await fetch(`https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lng}`);
                const data = await response.json();

                // Format Address: Street, Area, City
                const addr = data.address;
                const shortAddr = [
                    addr.road || addr.building || "",
                    addr.suburb || addr.neighbourhood || "",
                    addr.city || addr.state_district || ""
                ].filter(Boolean).join(", ");

                input.value = shortAddr || data.display_name.split(',').slice(0, 3).join(',');
            } catch (error) {
                input.value = `${lat.toFixed(5)}, ${lng.toFixed(5)}`;
            }
        }

        // --- ORDER LOGIC ---
        let extraRotis = 0;
        function updateRoti(change) { extraRotis = Math.max(0, extraRotis + change); document.getElementById('rotiCount').textContent = extraRotis; updatePrice(); }
        function selectDish(dayId) { document.getElementById('mealType').selectedOptions[0].selected = false; document.getElementById('opt-' + dayId).selected = true; document.getElementById('order').scrollIntoView({ behavior: 'smooth' }); updatePrice(); }

        function updatePrice() {
            const selectBox = document.getElementById('mealType');
            const planValue = parseInt(selectBox.value);
            const wantsRice = document.getElementById('addRice').checked;
            const mealTime = document.querySelector('input[name="mealTime"]:checked').value;
            let mult = (mealTime === "Both") ? 2 : 1;
            const halwaSelector = document.getElementById('halwaSelector');
            if (selectBox.options[selectBox.selectedIndex].id === 'opt-sun') halwaSelector.classList.remove('hidden'); else halwaSelector.classList.add('hidden');
            let basePrice = (planValue === 499 ? 499 + (wantsRice ? 100 : 0) : (planValue === 1999 ? 1999 + (wantsRice ? 300 : 0) : planValue + (wantsRice ? 20 : 0)));
            let planDays = (planValue === 499 ? 6 : (planValue === 1999 ? 26 : 1));
            document.getElementById('displayPrice').textContent = "‚Çπ" + ((basePrice * mult) + (extraRotis * 6 * planDays * mult));
        }

        window.addEventListener('load', function () {
            initMap(); // Start Map
            const places = ["Sector 15 Market", "Japanese Park Gate", "Sector 18 Road", "Rithala Metro"];
            document.getElementById('location').placeholder = "e.g. " + places[Math.floor(Math.random() * places.length)];
            const date = new Date();
            let todayIndex = date.getDay();
            const todaysDish = weeklyMenu[todayIndex];
            const selectBox = document.getElementById('mealType');
            if (todayIndex === 0) { document.getElementById('kitchen-status').textContent = "üîí KITCHEN CLOSED (SUNDAY)"; document.getElementById('kitchen-status').classList.add('bg-gray-600'); }
            else { document.getElementById('kitchen-status').textContent = `üî• COOKING NOW: ${todaysDish.name.toUpperCase()}`; }

            const dayMap = { 1: 'mon', 2: 'tue', 3: 'wed', 4: 'thu', 5: 'fri', 6: 'sat', 0: 'sun' };
            if (todayIndex !== 0) {
                const opt = document.createElement('option');
                opt.value = todaysDish.price; opt.text = `Today's Meal: ${todaysDish.name}`; opt.id = 'opt-' + dayMap[todayIndex];
                selectBox.add(opt);
            }
            [{ v: 499, t: "Weekly (6 Days)", id: 'opt-week' }, { v: 1999, t: "Monthly (26 Days)", id: 'opt-month' }].forEach(o => { const opt = document.createElement('option'); opt.value = o.v; opt.text = o.t; opt.id = o.id; selectBox.add(opt); });
            updatePrice();

            // Highlight today's card
            const cards = document.querySelectorAll('.menu-card');
            cards.forEach(card => {
                if (parseInt(card.getAttribute('data-day')) === todayIndex) {
                    card.querySelector('.day-badge').classList.add('todays-special-badge');
                    card.classList.add('ring-4', 'ring-orange-500', 'ring-offset-2');
                    card.querySelector('button').classList.replace('bg-orange-50', 'bg-orange-600');
                    card.querySelector('button').classList.replace('text-orange-900', 'text-white');
                } else { card.querySelector('button').style.display = 'none'; }
            });
        });

        function enc(str) { return encodeURIComponent(str); }

        function sendToWhatsapp(e) {
            e.preventDefault();
            const name = document.getElementById('name').value;
            const locationText = document.getElementById('location').value;
            const selectBox = document.getElementById('mealType');
            const planType = selectBox.options[selectBox.selectedIndex].text;
            const mealTime = document.querySelector('input[name="mealTime"]:checked').value;
            const wantsRice = document.getElementById('addRice').checked;
            const totalPrice = document.getElementById('displayPrice').textContent;

            // Construct Google Maps Link
            const mapLink = `https://www.google.com/maps/search/?api=1&query=${userLat},${userLng}`;

            let msg = "";
            msg += E.new + enc(" *NEW Tiffin Order*") + "%0A%0A";
            msg += E.user + enc(" Name: *" + name + "*") + "%0A";
            msg += E.loc + enc(" Addr: " + locationText) + "%0A";

            // ADDING THE SMART MAP LINK
            msg += E.map + enc(" Map: ") + mapLink + "%0A%0A";

            msg += E.bento + enc(" Plan: *" + planType + "*") + "%0A";
            let timeEmoji = (mealTime === "Lunch") ? E.sun : (mealTime === "Dinner" ? E.moon : E.sun + E.moon);
            msg += enc("üïí Time: " + mealTime + " ") + timeEmoji + "%0A";
            if (wantsRice) msg += E.rice + enc(" Rice: Included") + "%0A";
            if (extraRotis > 0) msg += E.roti + enc(" Roti: +" + extraRotis + " Extra") + "%0A";
            msg += "%0A" + E.money + enc(" To Pay: *" + totalPrice + "*") + "%0A%0A";
            msg += enc("_Please share QR Code._ ") + E.pray;

            const phoneNumber = "919205173588";
            window.open(`https://wa.me/${phoneNumber}?text=${msg}`, '_blank');
        }
    </script>
</body>

</html>